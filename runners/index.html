---
layout: default
title: Runners
---

<h1>Runners</h1>
<p class="muted">Jump by letter or filter by category.</p>

<div class="az" id="az">
  <a href="#0-9" data-filter="0-9">#</a>
  {% assign letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ" | split: "" %}
  {% for L in letters %}
    <a href="#{{ L }}" data-filter="{{ L }}">{{ L }}</a>
  {% endfor %}
  <a href="#other" data-filter="other">Other</a>
  <a href="#all" data-filter="all" class="muted">All</a>
</div>

<input id="q" class="filter" placeholder="Search within results..." autocomplete="off">

<p class="muted" id="status"></p>

<ul class="list" id="runner-list">
  {% assign sorted = site.runners | sort: "name" %}
  {% for r in sorted %}
    {% assign first = r.name | slice: 0, 1 %}
    <li class="runner-item" data-name="{{ r.name | downcase }}" data-first="{{ first }}">
      <a href="{{ r.url }}">{{ r.name }}</a>
    </li>
  {% endfor %}
</ul>

<script>
  const list = document.getElementById("runner-list");
  const items = Array.from(document.querySelectorAll(".runner-item"));
  const input = document.getElementById("q");
  const status = document.getElementById("status");

  function classifyFirstChar(ch) {
    if (!ch) return "other";

    // Normalize and uppercase for Latin letters
    const upper = ch.toUpperCase();

    // A-Z
    if (upper >= "A" && upper <= "Z") return upper;

    // 0-9
    if (ch >= "0" && ch <= "9") return "0-9";

    // Everything else: Korean, Japanese, accented, symbols, etc.
    return "other";
  }
  
<script>
  const items = Array.from(document.querySelectorAll(".runner-item"));
  const input = document.getElementById("q");
  const status = document.getElementById("status");
  const limitSelect = document.getElementById("limit");

  function classifyFirstChar(ch) {
    if (!ch) return "other";
    const upper = ch.toUpperCase();
    if (upper >= "A" && upper <= "Z") return upper;
    if (ch >= "0" && ch <= "9") return "0-9";
    return "other";
  }

  function applyFilter() {
    const hash = (location.hash || "#all").slice(1);
    const bucket = hash || "all";
    const q = input.value.trim().toLowerCase();
    const limit = Number(limitSelect.value); // 0 means All

    // First pass: compute matches in order
    const matches = [];
    for (const li of items) {
      const name = li.dataset.name || "";
      const first = (li.dataset.first || "").trim();
      const group = classifyFirstChar(first);

      const matchesBucket = (bucket === "all") || (bucket === group);
      const matchesSearch = !q || name.includes(q);

      if (matchesBucket && matchesSearch) matches.push(li);
    }

    // Hide everything first
    for (const li of items) li.style.display = "none";

    // Show up to limit
    const toShow = (limit === 0) ? matches.length : Math.min(limit, matches.length);
    for (let i = 0; i < toShow; i++) matches[i].style.display = "";

    const bucketLabel =
      bucket === "all" ? "All" :
      bucket === "0-9" ? "0â€“9" :
      bucket === "other" ? "Other" :
      bucket;

    status.textContent = `${toShow} shown of ${matches.length} matches (filter: ${bucketLabel})`;
  }

  window.addEventListener("hashchange", applyFilter);
  input.addEventListener("input", applyFilter);
  limitSelect.addEventListener("change", applyFilter);
  applyFilter();
</script>

</script>

<label class="muted" for="limit">Show:</label>
<select id="limit" class="select">
  <option value="25">25</option>
  <option value="50">50</option>
  <option value="100">100</option>
  <option value="250">250</option>
  <option value="0">All</option>
</select>
