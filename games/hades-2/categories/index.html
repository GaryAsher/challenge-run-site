---
layout: default
title: Hades 2 Categories
game_id: hades-2
---

{% assign game = site.games | where: "game_id", page.game_id | first %}

<!-- =========================================================
     Flatten runs from _data/runs/*.yml (folder) OR _data/runs.yml (single file)
     ========================================================= -->
{% assign runs_raw = site.data.runs %}
{% assign runs_flat = "" | split: "" %}

{% if runs_raw and runs_raw.first and runs_raw.first[0] %}
  <!-- runs_raw is a HASH (folder of files): { filename => [runs...] } -->
  {% for pair in runs_raw %}
    {% assign bucket = pair[1] %}
    {% if bucket %}
      {% for r in bucket %}
        {% if r %}
          {% assign runs_flat = runs_flat | push: r %}
        {% endif %}
      {% endfor %}
    {% endif %}
  {% endfor %}
{% else %}
  <!-- runs_raw is already a LIST -->
  {% for r in runs_raw %}
    {% if r %}
      {% assign runs_flat = runs_flat | push: r %}
    {% endif %}
  {% endfor %}
{% endif %}

{% assign runs = runs_flat | where: "game_id", page.game_id %}

<div class="page-width">
  <p class="muted page-back">
    <a href="{{ '/games/' | relative_url }}">‚Üê Games</a>
    {% if game %}
      <span class="muted"> / </span>
      <a href="{{ game.url | relative_url }}">{{ game.name }}</a>
    {% endif %}
  </p>
</div>

<div class="page-width">
  <div class="game-shell">
    <div class="card">
      <h1>{% if game %}{{ game.name }}{% else %}Game{% endif %} Categories</h1>
      <p class="muted">Pick a category to view completed runs.</p>

      {% assign cats_raw = runs | map: "category" | sort | uniq %}
      <div class="tag-picker" style="margin-top: 0.75rem;">
        <div class="tag-picked">
          {% for cat in cats_raw %}
            {% if cat and cat != "" %}
              {% assign slug = cat | slugify %}
              <a
                class="tag-chip"
                href="{{ '/games/' | relative_url }}{{ page.game_id | slugify }}/categories/{{ slug }}/"
              >
                {{ cat }}
              </a>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>
