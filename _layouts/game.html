---
layout: default
---

<!-- =========================================================
     Back link to Games index
     ========================================================= -->
<div class="page-width">
  <p class="muted page-back">
    <a href="{{ '/games/' | relative_url }}">â† Games</a>
  </p>
</div>

<!-- =========================================================
     Game hero
     ========================================================= -->
{% if page.cover %}
  <div class="page-width">
    <div class="game-shell">
      <section
        class="game-hero"
        style="
          background-image: url('{{ page.cover | relative_url }}');
          background-position: {{ page.cover_position | default: 'center' }};
        "
      >
        <div class="game-hero__overlay">
          <div class="game-hero__content">
            <h1>{{ page.name }}</h1>

            {% if page.status %}
              <p class="muted">{{ page.status }}</p>
            {% endif %}

            {% if page.tags and page.tags.size > 0 %}
              <div class="game-tags">
                {% for tag in page.tags %}
                  {% assign meta = site.data.tags[tag] %}
                  <span class="tag">{{ meta.label | default: tag }}</span>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      </section>
    </div>
  </div>
{% else %}
  <div class="page-width">
    <h1>{{ page.name }}</h1>
    {% if page.status %}
      <p class="muted">{{ page.status }}</p>
    {% endif %}
    {% if page.tags and page.tags.size > 0 %}
      <div class="game-tags" style="margin-top: 0.5rem;">
        {% for tag in page.tags %}
          {% assign meta = site.data.tags[tag] %}
          <span class="tag">{{ meta.label | default: tag }}</span>
        {% endfor %}
      </div>
    {% endif %}
  </div>
{% endif %}

<!-- =========================================================
     Game tabs (Overview / Categories / Runs)
     Notes:
     - Overview + Categories are in-page tab panels
     - Runs is a real link to the runs page for this game
     ========================================================= -->
<div class="page-width">
  <div class="game-shell">
    <nav class="runner-tabs game-tabs" id="game-tabs">
      <button class="tab active" data-tab="overview" type="button">Overview</button>
      <button class="tab" data-tab="categories" type="button">Categories</button>

      <a class="tab" href="{{ page.url | relative_url }}game-runs/">
        Runs
      </a>
      {%- comment -%}
      If your runs page is actually:
        /games/<game-id>/completed-runs/
      then replace the href above with:
        href="{{ page.url | relative_url }}completed-runs/"
      {%- endcomment -%}
    </nav>
  </div>
</div>

<!-- =========================================================
     Tab panels
     ========================================================= -->
<div class="page-width">
  <div class="game-shell">

    <!-- Overview -->
    <section class="tab-panel active" data-panel="overview">
      {% if content %}
        <div class="card">
          {{ content }}
        </div>
      {% endif %}
    </section>

    <!-- Categories -->
    <section class="tab-panel" data-panel="categories">
      <div class="card">
        <h2>Categories</h2>

        {% if page.categories and page.categories.size > 0 %}
          <ul class="list">
            {% for c in page.categories %}
              <li>
                <a href="{{ page.url | relative_url }}categories/{{ c | slugify }}/">
                  {{ c }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% else %}
          <p class="muted">No categories listed.</p>
        {% endif %}
      </div>
    </section>

  </div>
</div>

<!-- =========================================================
     Tabs script
     ========================================================= -->
<script>
(function () {
  const root = document.getElementById("game-tabs");
  if (!root) return;

  const tabs = Array.from(root.querySelectorAll(".tab[data-tab]"));
  const panels = Array.from(document.querySelectorAll(".tab-panel[data-panel]"));

  function activate(name) {
    tabs.forEach(t => t.classList.toggle("active", t.dataset.tab === name));
    panels.forEach(p => p.classList.toggle("active", p.dataset.panel === name));
  }

  tabs.forEach(t => {
    t.addEventListener("click", (e) => {
      e.preventDefault();
      activate(t.dataset.tab);
    });
  });
})();
</script>
