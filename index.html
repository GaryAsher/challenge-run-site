---
layout: default
title: Home
---

<div class="page-width">

<h1>Challenge Run Community</h1>

<p class="muted mb-6">
  A space built around creative challenge runs, clear rules, and respect for all challenge styles.
</p>

<div class="home-grid">
  <div class="home-main">
    <!-- News Section - Only shows featured posts -->
    <div class="home-card">
      <h2 class="home-card__title">ğŸ“° News</h2>
      <div class="home-card__content">
        <div class="news-list">
          {% assign featured_posts = site.posts | where: "featured", true %}
          {% if featured_posts.size > 0 %}
            {% for post in featured_posts limit:3 %}
              <div class="news-item">
                <span class="news-item__date muted">{{ post.date | date: "%b %Y" }}</span>
                <p class="news-item__text">
                  <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                </p>
              </div>
            {% endfor %}
            <p class="mt-3">
              <a href="{{ '/news/' | relative_url }}" class="muted">View all news â†’</a>
            </p>
          {% elsif site.posts.size > 0 %}
            <!-- Fallback: show latest posts if none are featured -->
            {% for post in site.posts limit:3 %}
              <div class="news-item">
                <span class="news-item__date muted">{{ post.date | date: "%b %Y" }}</span>
                <p class="news-item__text">
                  <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
                </p>
              </div>
            {% endfor %}
            <p class="mt-3">
              <a href="{{ '/news/' | relative_url }}" class="muted">View all news â†’</a>
            </p>
          {% else %}
            <div class="news-item">
              <span class="news-item__date muted">Coming Soon</span>
              <p class="news-item__text">News and updates will appear here.</p>
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Recent Runs Section -->
    <div class="home-card" style="margin-top: 1rem;">
      <h2 class="home-card__title">ğŸƒ Recent Runs</h2>
      <div class="home-card__content">
        {% assign all_runs = site.runs | where_exp: "r", "r.game_id" | sort: "date_completed" | reverse %}
        {% if all_runs.size > 0 %}
          <div class="recent-runs-list">
            {% for run in all_runs limit:5 %}
              {% assign game = site.games | where: "game_id", run.game_id | first %}
              {% assign runner_name = run.runner | default: run.runner_id | replace: "_", " " | replace: "-", " " %}
              <div class="recent-run-item">
                <span class="recent-run-item__game">{{ game.name | default: run.game_id }}</span>
                <span class="recent-run-item__runner muted">{{ runner_name }}</span>
                <span class="recent-run-item__date muted">{{ run.date_completed | date: "%b %d" }}</span>
              </div>
            {% endfor %}
          </div>
        {% else %}
          <p class="muted">No runs submitted yet. Be the first!</p>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="home-sidebar">
    <!-- Community Board Section -->
    <div class="home-card home-card--full-height">
      <h2 class="home-card__title">ğŸ“‹ Community Board</h2>
      <div class="community-board">
        <p class="muted" style="margin-bottom: 1rem; font-size: 0.9rem;">Bounties, requests, and community highlights</p>
        
        <div class="board-list" id="board-list">
          <div class="board-item board-item--placeholder">
            <span class="board-item__type muted">Bounty</span>
            <p class="board-item__text">No active bounties yet. Check back soon!</p>
          </div>
          <div class="board-item board-item--placeholder">
            <span class="board-item__type muted">Request</span>
            <p class="board-item__text">Want to post a bounty or request? Contact us!</p>
          </div>
        </div>

        <div class="board-pagination" id="board-pagination" style="display: none;">
          <button class="btn btn--sm" id="board-prev" disabled>â† Prev</button>
          <span class="muted board-page-info">Page <span id="board-page">1</span></span>
          <button class="btn btn--sm" id="board-next" disabled>Next â†’</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Quick Links -->
<div class="resource-cards" style="margin-top: 1.5rem;">
  <a href="{{ '/games/' | relative_url }}" class="resource-card card-lift--sm">
    <div class="resource-card__icon">ğŸ®</div>
    <div class="resource-card__content">
      <h2 class="resource-card__title">Games</h2>
      <p class="resource-card__desc">Browse all tracked games</p>
      <span class="resource-card__count">{{ site.games.size }} {% if site.games.size == 1 %}game{% else %}games{% endif %}</span>
    </div>
  </a>

  <a href="{{ '/runners/' | relative_url }}" class="resource-card card-lift--sm">
    <div class="resource-card__icon">ğŸ†</div>
    <div class="resource-card__content">
      <h2 class="resource-card__title">Runners</h2>
      <p class="resource-card__desc">View runner profiles and runs</p>
      <span class="resource-card__count">{{ site.runners.size }} {% if site.runners.size == 1 %}runner{% else %}runners{% endif %}</span>
    </div>
  </a>

  <a href="{{ '/rules/' | relative_url }}" class="resource-card card-lift--sm">
    <div class="resource-card__icon">ğŸ“œ</div>
    <div class="resource-card__content">
      <h2 class="resource-card__title">Rules</h2>
      <p class="resource-card__desc">Site-wide guidelines and policies</p>
      <span class="resource-card__count">Learn more</span>
    </div>
  </a>

  <a href="{{ '/glossary/' | relative_url }}" class="resource-card card-lift--sm">
    <div class="resource-card__icon">ğŸ“–</div>
    <div class="resource-card__content">
      <h2 class="resource-card__title">Glossary</h2>
      <p class="resource-card__desc">Challenge run terminology</p>
      <span class="resource-card__count">Reference</span>
    </div>
  </a>
</div>

<!-- Featured Teams Section -->
<div class="featured-teams">
  <h2 class="featured-teams__title">ğŸ¤ Affiliated Teams</h2>
  {% if site.teams.size > 0 %}
    <div class="teams-grid">
      {% for team in site.teams limit:4 %}
        <a href="{{ team.url | relative_url }}" class="team-card card-lift--sm">
          {% if team.logo %}
            <img src="{{ team.logo | relative_url }}" alt="{{ team.name }}" class="team-card__logo">
          {% else %}
            <div class="team-card__logo team-card__logo--placeholder">{{ team.name | slice: 0 }}</div>
          {% endif %}
          <div class="team-card__name">{{ team.name }}</div>
        </a>
      {% endfor %}
    </div>
    {% if site.teams.size > 4 %}
      <p class="mt-3">
        <a href="{{ '/teams/' | relative_url }}" class="muted">View all teams â†’</a>
      </p>
    {% endif %}
  {% else %}
    <div class="teams-grid">
      <div class="team-card team-card--placeholder" style="border-style: dashed; opacity: 0.7;">
        <div class="team-card__logo">?</div>
        <div class="team-card__name">Teams coming soon</div>
      </div>
    </div>
  {% endif %}
  <p class="muted mt-3" style="font-size: 0.9rem;">
    Interested in partnering? <a href="{{ '/support/' | relative_url }}">Contact us!</a>
  </p>
</div>

</div>
